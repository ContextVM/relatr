# Relatr Environment Configuration
# Copy this file to .env and customize with your values

# =============================================================================
# REQUIRED CONFIGURATION
# =============================================================================

# Server's Nostr private key (hex format, 64 characters)
# Generate with: openssl rand -hex 32
SERVER_SECRET_KEY=your_server_private_key_here

# =============================================================================
# OPTIONAL CONFIGURATION
# =============================================================================

# Default perspective pubkey for trust calculations (hex format)
# Default: Gigi's pubkey (6e468422dfb74a5738702a8823b9b28168abab8655faacb6853cd0ee15deee93)
DEFAULT_SOURCE_PUBKEY=6e468422dfb74a5738702a8823b9b28168abab8655faacb6853cd0ee15deee93

# Nostr relays for fetching social graph data (comma-separated)
# Default: wss://relay.damus.io,wss://relay.nostr.band,wss://relay.snort.social
NOSTR_RELAYS=wss://relay.damus.io,wss://relay.nostr.band,wss://relay.snort.social

# Nostr relays for MCP transport
# Default: wss://relay.contextvm.org
SERVER_RELAYS=wss://relay.contextvm.org

# =============================================================================
# OPTIONAL FEATURES
# =============================================================================
#
# Enable Trusted Assertions (TA) publishing (NIP-85 kind 30382).
# When enabled, Relatr can act as a Trusted Assertion provider and expose TA tools.
# Default: false
TA_ENABLED=false

# =============================================================================
# MCP SERVER CONFIGURATION
# =============================================================================

# Whether the MCP server is public (accessible to anyone) or private
# Default: false
IS_PUBLIC_SERVER=false

# Server name displayed in MCP server info
# Default: Relatr
SERVER_NAME=Relatr

# Server description/about text
# Default: Relatr is a social graph analysis and trust score service for Nostr.
SERVER_ABOUT=Relatr is a social graph analysis and trust score service for Nostr.

# Server website URL
# Default: https://relatr.xyz
SERVER_WEBSITE=https://relatr.xyz

# Server picture/avatar URL
# Default: https://image.nostr.build/30d7fdef1b3d3b83d9e33f47b7d15388deeb47428041f0656612d1450cdb1216.jpg
SERVER_PICTURE=https://image.nostr.build/30d7fdef1b3d3b83d9e33f47b7d15388deeb47428041f0656612d1450cdb1216.jpg

# =============================================================================
# PERFORMANCE TUNING
# =============================================================================

# Alpha parameter in distance formula (0.0 - 1.0)
# Lower values = distance matters more
# Default: 0.1
DECAY_FACTOR=0.1

# Social graph traversal depth (1-4 recommended)
# Higher values = more comprehensive but slower
# Default: 1
NUMBER_OF_HOPS=1

# Cache time-to-live in seconds
# Default: 604800 (1 week)
CACHE_TTL_SECONDS=604800

# Sync interval in milliseconds
# Default: 86400000 (24 hours)
SYNC_INTERVAL=86400000

# Cleanup interval in milliseconds
# Default: 25200000 (7 hours)
CLEANUP_INTERVAL=25200000

# =============================================================================
# DATA PATHS
# =============================================================================

# Path to social graph binary file
# Default: ./data/socialGraph.bin
GRAPH_BINARY_PATH=./data/socialGraph.bin

# SQLite database path
# Default: ./data/relatr.db
DATABASE_PATH=./data/relatr.db

# =============================================================================
# DOCKER CONFIGURATION
# =============================================================================

# User and group IDs for file permissions (typically your host user)
# Get with: id -u and id -g
UID=1000
GID=1000
